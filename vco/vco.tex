\input{../lib.tex}
\doctitle{L'oscillateur contrôlé en tension (VCO)}
\subsection{Fonctionnement et théorie}
La figure 1 nous montre le schéma bloc du VCO.


Le VCO se compose des 3 blocs suivants:
\begin{itemize}
\item l'integrator controller (le contrôleur de l'intégrateur) qui se compose lui-même d'un switch et d'un summing (sommateur)
\item l'integrator (intégrateur)
\item le trigger de Schmitt (bascule à hystérèse)
\end{itemize}

Le signal d'entrée ($in$) est constant et vaut $\alpha$. Appelons $V_L$ la tension de basculement inférieure du trigger, $V_H$ la tension de basculement supérieure et $V_{CC}$ la tension d'alimentation du trigger.
Si la sortie du trigger de Schmitt ($control$) vaut $0$, la sortie du switch de l'integrator controller vaut $0$. Dès lors, la sortie du bloc integrator controller vaut $-\alpha$.  Après passage dans l'integrator, nous avons la droite $-\alpha t$. La sortie du trigger restera à $0$ tant que la sortie de l'integrator est supérieure à $V_L$. Lorsque la sortie de l'integrator a atteint $V_L$, le trigger bascule et sa tension de sortie devient $V_{CC}$. Le switch change d'état et sa sortie devient $\alpha$. La sortie de l'integrator controller devient donc $\alpha$. Après passage dans l'integrator, nous avons la droite $\alpha t$. La sortie du trigger restera à $V_{CC}$ tant que la sortie de l'integrator est inférieure à $V_H$. Lorsque la sortie de l'integrator a atteint $V_H$, le trigger bascule et sa tension de sortie devient $0$. Le switch rechange d'état et sa sortie devient $0$. Et nous pouvons recommencer la même boucle.

\subsection{Dimensionnement et circuit réel}
Dimensionnement du trigger de Schmitt
Pour le trigger de Schmitt, nous avons choisis arbitrairement de placer le seuil supérieure ($V_H$) à \unit{0}{\volt} et le seuil inférieure à \unit{-1}{\volt}. Dès lors, nous pouvons déterminer rapidement le rapport des résistances à utiliser avec les formules suivantes : 
$$V_H=V_{REF}\left(1+\frac{R_2}{R_6}\right) \textmd{ et } V_L=V_{REF} + \frac{R_2}{R_6}\left(V_{REF}-V_{CC}\right)$$
Dans notre cas, $V_{REF}$ vaut la tension à l'entrée non-inverseuse du comparateur qui vaut \unit{0}{\volt}. Dès lors, nous tirons que $\frac{R_2}{R_6}=\frac{1}{15}$
avec la condition que $R_6>>R_9$. Nous allons prendre \unit{100}{\kilo\ohm} pour $R_2$ et \unit{1,5}{\mega\ohm} pour $R_6$.

Nous pouvons maintenant calculer la constante ($K$) de notre intégrateur. Nous voulons avoir \unit{1}{\milli\volt}par\unit{}{\hertz}. Dès lors, lorsque nous avons \unit{1}{\milli\volt}, la fréquence de sortie est de \unit{1}{\hertz}. Comme le signal de sortie est un signal triangulaire, le temps de montée et de descente est identique. Le temps de montée vaut donc $\frac{1}{2*1} = $\unit{0,5}{\second}. La pente de montée de la droite est de \unit{1}{\milli\volt} par \unit{}{\second}. Le temps pour monter ou descendre de \unit{1}{\volt} est de \unit{1000}{\second}. Or nous voulons que ce temps vaillent \unit{0,5}{\second}, alors la constante d'intégration doit valoir 2000. Cela nous donne $\frac{1}{R_1C_1}=2000$. En prenant $C_1=$ \unit{10}{\nano\farad}, nous avons $R_1 =$ \unit{50}{\kilo\ohm}.
Il nous reste plus que l'integrator controller à dimensionner. Nous allons utiliser un ampli op en mode différentiel. Nous devons avoir comme équation $2*V_+ - V_-$ avec $V_+$ la tension à l'entrée non-inverseuse et $V_-$, la tension à l'entrée inverseuse. Nous trouvons donc $R_5 = R_4 = 2*R_3$.
Si nous fixons $R_5$ à \unit{10}{\kilo\ohm}, nous avons $R_4$ qui vaut \unit{10}{\kilo\ohm} et $R_3$ qui vaut \unit{10}{\kilo\ohm}.

\subsection{Confrontation  des mesures et de la théorie}
%TODO
\input{../footer.tex}