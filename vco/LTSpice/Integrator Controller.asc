Version 4
SHEET 1 1856 692
WIRE 1040 0 992 0
WIRE 1168 0 1120 0
WIRE 992 96 992 0
WIRE 1040 96 992 96
WIRE 1168 96 1168 0
WIRE 1168 96 1104 96
WIRE 480 112 368 112
WIRE 592 112 560 112
WIRE 624 112 592 112
WIRE 784 112 704 112
WIRE 1488 112 1424 112
WIRE 720 160 672 160
WIRE 1088 160 1072 160
WIRE 1424 160 1424 112
WIRE 672 176 672 160
WIRE 592 192 592 112
WIRE 640 192 592 192
WIRE 1072 192 1072 160
WIRE 1392 192 1344 192
WIRE 784 208 784 112
WIRE 784 208 704 208
WIRE 880 208 784 208
WIRE 992 208 992 96
WIRE 992 208 960 208
WIRE 1040 208 992 208
WIRE 1584 208 1472 208
WIRE 1664 208 1584 208
WIRE 1792 208 1744 208
WIRE 640 224 592 224
WIRE 1168 224 1168 96
WIRE 1168 224 1104 224
WIRE 1232 224 1168 224
WIRE 1344 224 1312 224
WIRE 1392 224 1344 224
WIRE 1040 240 992 240
WIRE 672 256 672 240
WIRE 720 256 672 256
WIRE 1792 256 1792 208
WIRE 1408 272 1408 256
WIRE 992 288 992 240
WIRE 1072 288 1072 256
WIRE 1104 288 1072 288
WIRE 400 304 368 304
WIRE 592 304 592 224
WIRE 592 304 480 304
WIRE 1424 304 1424 256
WIRE 1488 304 1424 304
WIRE -64 320 -144 320
WIRE -144 352 -144 320
WIRE 1344 352 1344 224
WIRE 1392 352 1344 352
WIRE 1584 352 1584 208
WIRE 1584 352 1472 352
WIRE 1792 352 1792 336
WIRE 416 368 416 352
WIRE -144 464 -144 432
WIRE -64 464 -144 464
WIRE -144 496 -144 464
WIRE 1168 496 1168 224
WIRE -144 608 -144 576
WIRE -64 608 -144 608
FLAG 368 112 Vin
IOPIN 368 112 In
FLAG 368 304 Vin
IOPIN 368 304 In
FLAG 416 368 0
FLAG 464 352 Control
FLAG -64 320 +Vcc
FLAG -64 608 -Vcc
FLAG -64 464 0
FLAG -112 64 0
FLAG -112 -16 Vin
FLAG 592 384 0
FLAG 720 160 +Vcc
FLAG 720 256 -Vcc
FLAG 992 288 0
FLAG 1088 160 +Vcc
FLAG 1104 288 -Vcc
FLAG 1408 272 0
FLAG 1488 112 +Vcc
FLAG 1488 304 -Vcc
FLAG 1792 352 0
FLAG 1792 208 Control
FLAG 1344 192 0
FLAG 1168 496 out
FLAG 1584 128 +Vcc
FLAG 784 208 IC
SYMBOL sw 384 304 R270
SYMATTR InstName S2
SYMATTR Value S2
SYMBOL voltage -144 336 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -144 480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL voltage -112 -32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 1m)
SYMBOL Opamps\\UniversalOpamp2 672 208 R0
SYMATTR InstName U2
SYMBOL res 576 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMATTR SpiceLine tol=5
SYMBOL res 576 288 R0
SYMATTR InstName R3
SYMATTR Value 20k
SYMATTR SpiceLine tol=5
SYMBOL res 720 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMATTR SpiceLine tol=5
SYMBOL Opamps\\UniversalOpamp2 1072 224 R0
SYMATTR InstName U1
SYMBOL cap 1104 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL res 976 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 50k
SYMATTR SpiceLine tol=5
SYMBOL Comparators\\LT1011 1424 208 R0
SYMATTR InstName U3
SYMBOL res 1328 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 100k
SYMATTR SpiceLine tol=5
SYMBOL res 1488 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1.5Meg
SYMATTR SpiceLine tol=5
SYMBOL res 1760 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMATTR SpiceLine tol=5
SYMBOL res 1808 352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMATTR SpiceLine tol=5
SYMBOL res 1568 112 R0
SYMATTR InstName R9
SYMATTR Value 1k
SYMATTR SpiceLine tol=5
SYMBOL res 1024 16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value 100k
TEXT -160 -144 Left 2 !.tran 0 3m 1m startup
TEXT -160 -184 Left 2 !.model S2 SW(Ron=.001 Roff=1G Vt=1)
TEXT 448 -32 Left 2 ;Integrator Controller
TEXT 1016 -184 Left 2 ;Integrator
TEXT 1384 -8 Left 2 ;Trigger (0V -1V)
